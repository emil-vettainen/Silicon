@{
    var user = await UserManager.GetUserAsync(User);
}


<aside class="account-panel">
    <div class="content">


        @if (user != null)
        {
            <div class="account-user">
                <div class="account-user-img">
                    <img src="~/uploads/@(!string.IsNullOrEmpty(user!.ProfileImageUrl) ? user.ProfileImageUrl : "user-profile.png")" alt="Profile Image" />
                    <form method="post" enctype="multipart/form-data" asp-controller="Account" asp-action="UploadProfileImage">
                        <input type="file" name="file" id="uploadFile" hidden />
                        <label for="uploadFile" data-bs-toggle="tooltip" data-bs-placement="left" data-bs-title="Change picture" data-bs-custom-class="custom-tooltip" class="fa-regular fa-arrows-rotate-reverse change-user-img"></label>
                    </form>
                </div>
                <h5>@user.FirstName @user.LastName</h5>
                <p class="text-m">@user.Email</p>
            </div>
        }

        <nav class="account-options">
            <a class="@(ViewData["Title"]!.ToString() == "Details" ? "active-link" : "")" asp-action="Details" asp-controller="Account"><i class="fa-regular fa-gear"></i><span class="link-text">Account Details</span></a>
            <a class="@(ViewData["Title"]!.ToString() == "Security" ? "active-link" : "")" asp-action="Security" asp-controller="Account"><i class="fa-regular fa-lock"></i><span class="link-text">Security</span></a>
            <a class="@(ViewData["Title"]!.ToString() == "Saved Courses" ? "active-link" : "")" asp-action="SavedCourses" asp-controller="Account"><i class="fa-regular fa-bookmark"></i><span class="link-text">Saved Courses</span></a>
            <a asp-action="SignOut" asp-controller="Authentication"><i class="fa-regular fa-arrow-right-from-bracket"></i><span class="link-text">Sign Out</span></a>
        </nav>


    </div>


</aside>